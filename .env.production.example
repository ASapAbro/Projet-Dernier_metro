# Configuration Production - API Dernier Metro Paris
# Version: 1.0.0
# ⚠️ NE PAS COMMITTER CE FICHIER AVEC DES VRAIES VALEURS SECRETS

# === ENVIRONNEMENT ===
NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# === BASE DE DONNÉES PRODUCTION ===
# PostgreSQL Production (exemple avec RDS AWS)
DB_HOST=prod-dernier-metro.cluster-xyz.eu-west-3.rds.amazonaws.com
DB_PORT=5432
DB_NAME=dernier_metro_prod
DB_USER=metro_prod_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000

# === SÉCURITÉ ===
# JWT pour authentification API (si nécessaire plus tard)
JWT_SECRET=CHANGE_ME_SUPER_SECRET_JWT_KEY_HERE
JWT_EXPIRES_IN=24h

# CORS Configuration
CORS_ORIGIN=https://dernier-metro.fr,https://app.dernier-metro.fr
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# === MONITORING ===
# Logs structurés
LOG_FORMAT=json
LOG_FILE=/var/log/api/dernier-metro.log

# Métriques Prometheus (optionnel)
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Health Check
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# === CACHE ===
# Redis pour cache (optionnel)
REDIS_URL=redis://prod-cache.xyz.cache.amazonaws.com:6379
REDIS_TTL=300

# === NOTIFICATIONS ===
# Slack pour alertes (optionnel)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Email SMTP pour alertes
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=587
SMTP_USER=api@dernier-metro.fr
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD

# === FEATURES FLAGS ===
FEATURE_REAL_TIME_UPDATES=true
FEATURE_ANALYTICS=true
FEATURE_CACHE_ENABLED=true

# === EXTERNES APIS ===
# API RATP officielle (si intégration future)
RATP_API_KEY=CHANGE_ME_RATP_API_KEY
RATP_API_URL=https://api.ratp.fr/v1

# === DÉPLOIEMENT ===
APP_VERSION=1.0.0
DEPLOYMENT_ENV=production
BUILD_NUMBER=${CI_BUILD_NUMBER:-manual}
GIT_COMMIT=${CI_COMMIT_SHA:-unknown}
